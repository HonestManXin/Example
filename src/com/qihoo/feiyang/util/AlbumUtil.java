package com.qihoo.feiyang.util;import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.FileOutputStream;import java.io.IOException;import java.io.ObjectInputStream;import java.io.ObjectOutputStream;import java.util.ArrayList;import java.util.List;import android.app.Activity;import android.content.Context;import android.util.Log;import com.qihoo.yunpan.sdk.android.http.model.YunFile;public final class AlbumUtil {	private final static String albumName = "loadedAbum.bat";	private static Context context = null;	private static final String TAG = AlbumUtil.class.getSimpleName();		private AlbumUtil() {	}		public static void init(Context ct) {		context = ct;	}		/**	 * 存储已经下载的相册	 * @param albums	 */	public static void saveLoadedAlbum(List<YunFile> albums) {		int size = albums.size();		try {			FileOutputStream fout = context.openFileOutput(albumName, Activity.MODE_PRIVATE);			ObjectOutputStream out = new ObjectOutputStream(fout);			out.writeInt(size);			for (YunFile f : albums) {				out.writeObject(f);			}			out.flush();			fout.close();			out.close();		} catch (FileNotFoundException e) {			e.printStackTrace();			Log.e(TAG, e.getMessage());		} catch (IOException e) {			e.printStackTrace();			Log.e(TAG, e.getMessage());		}	}		/**	 * 加载已经下载过的相册记录	 * @return	 */	public static List<YunFile> loadAlbum() {		List<YunFile> albums = new ArrayList<YunFile>();		try {			FileInputStream fin = context.openFileInput(albumName);			ObjectInputStream oin = new ObjectInputStream(fin);			int size = oin.readInt();			if (size == 0) return null;			for (int i=0; i<size; i++) {				albums.add((YunFile) oin.readObject());			}			return albums;		} catch (Exception e) {			e.printStackTrace();			Log.e(TAG, e.getMessage());			return null;		}	}		}